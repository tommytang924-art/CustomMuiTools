{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tommytang/Documents/myproject/muitools/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { signIn, SignInResponse } from \"next-auth/react\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { Box, Paper, Typography, TextField, Button, InputAdornment, IconButton } from '@mui/material';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport * as yup from 'yup';\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport KeyIcon from '@mui/icons-material/Key';\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\n\r\ninterface LoginForm {\r\n  sysuserId: string;\r\n  sysuserPwd: string;\r\n}\r\n\r\nexport default function Login() {\r\n  const [error, setError] = useState(\"\");\r\n  const router = useRouter();\r\n  const [showPassword, setShowPwd] = useState<boolean>(false)\r\n  const schema: yup.AnyObjectSchema = yup.object({\r\n    sysuserId: yup.string().required(\"User Name is a required field\"),\r\n    sysuserPwd: yup.string().required(\"Password is a required field\")\r\n  })\r\n\r\n  const handleClickShowPassword = () => setShowPwd((show) => !show);\r\n\r\n  const handleMouseDownPassword = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleMouseUpPassword = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const {\r\n    register,\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<LoginForm>({\r\n    resolver: yupResolver(schema),\r\n    defaultValues: {\r\n      sysuserId: \"\",\r\n      sysuserPwd: \"\",\r\n    },\r\n  });\r\n\r\n  const onSubmit = async (data: LoginForm) => {\r\n    signIn(\"credentials\", {\r\n      redirect: false,\r\n      ...data,\r\n      callbackUrl: \"/home\",\r\n    }).then((SignInResult: SignInResponse | undefined) => {\r\n      if (SignInResult?.ok) {\r\n        router.push(\"/home\");\r\n      } else if (SignInResult?.status === 401) {\r\n        setError(\"Invalid Password please try again.\");\r\n      } else {\r\n        setError(`Something went wrong: ${SignInResult?.error}`);\r\n        setTimeout(() => {\r\n          router.push(`/error?error=${SignInResult?.error || \"UnknownError\"}`);\r\n        }, 5000);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          height: '100vh',\r\n          backgroundColor: '#f0f0f0', // Light background for the entire screen\r\n        }}\r\n      >\r\n        <Paper\r\n          elevation={3}\r\n          sx={{\r\n            display: 'flex',\r\n            minWidth: '856px', // Adjust width as needed\r\n            borderRadius: '8px',\r\n            overflow: 'hidden', // To handle inner borders cleanly\r\n          }}\r\n        >\r\n          <Box sx={{ display: 'flex', flex: 1 }}>\r\n            {/* Left side */}\r\n            <Box\r\n              sx={{\r\n                backgroundImage: \"linear-gradient(180deg, rgba(186, 209, 104, 1), rgba(185, 68, 78, 0.8))\",\r\n                color: '#fff',\r\n                p: 4,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                flex: 1,\r\n              }}\r\n            >\r\n              <Typography variant=\"h4\" sx={{ textAlign: 'center', fontWeight: 'bold' }}>\r\n                PDS Portal\r\n              </Typography>\r\n            </Box>\r\n\r\n            {/* Right side */}\r\n            <Box\r\n              sx={{\r\n                backgroundColor: '#fff',\r\n                p: 4,\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center',\r\n                flex: 1,\r\n              }}\r\n              component=\"form\"\r\n              onSubmit={handleSubmit(onSubmit)}\r\n            >\r\n              <Typography variant=\"h5\" sx={{ color: '#000000ff', mb: 1, fontWeight: 600 }}>\r\n                Login\r\n              </Typography>\r\n              <Typography variant=\"body2\" sx={{ color: '#757575', mb: 3 }}>\r\n                Sign in to your account\r\n              </Typography>\r\n\r\n              <Controller\r\n                control={control}\r\n                name=\"sysuserId\"\r\n                render={({ field: formField, fieldState: { error } }) => (\r\n                  <TextField\r\n                    {...formField}\r\n                    variant=\"outlined\"\r\n                    placeholder=\"Username\"\r\n                    fullWidth\r\n                    error={!!error}\r\n                    helperText={error?.message}\r\n                    autoComplete=\"off\"\r\n                    sx={{ mb: 2, fontWeight: 600, }}\r\n                    type=\"text\"\r\n                    value={formField.value}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <PersonIcon sx={{ color: '#757575' }} />\r\n                        </InputAdornment>\r\n                      ),\r\n                    }}\r\n                  />\r\n                )}\r\n              >\r\n              </Controller>\r\n\r\n              <Controller\r\n                control={control}\r\n                name=\"sysuserPwd\"\r\n                render={({ field: formField, fieldState: { error } }) => (\r\n                  <TextField\r\n                    {...formField}\r\n                    variant=\"outlined\"\r\n                    placeholder=\"Password\"\r\n                    fullWidth\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    error={!!error}\r\n                    helperText={error?.message}\r\n                    autoComplete=\"off\"\r\n                    sx={{ mb: 2 }}\r\n                    value={formField.value}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <KeyIcon sx={{ color: '#757575' }} />\r\n                        </InputAdornment>\r\n                      ),\r\n                      endAdornment: (\r\n                        <InputAdornment position=\"end\">\r\n                          <IconButton\r\n                            aria-label={\r\n                              showPassword ? 'hide the password' : 'display the password'\r\n                            }\r\n                            onClick={handleClickShowPassword}\r\n                            onMouseDown={handleMouseDownPassword}\r\n                            onMouseUp={handleMouseUpPassword}\r\n                            edge=\"end\"\r\n                          >\r\n                            {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                          </IconButton>\r\n                        </InputAdornment>\r\n                      )\r\n                    }}\r\n                  />\r\n                )}\r\n              >\r\n              </Controller>\r\n              {error ? (\r\n                <Typography variant=\"body2\" color=\"error\" sx={{ mb: 2 }}>\r\n                  {error}\r\n                </Typography>\r\n              ) : null}\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                fullWidth\r\n                type=\"submit\"\r\n                sx={{ textTransform: 'capitalize' }}\r\n\r\n              >\r\n                Login\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}